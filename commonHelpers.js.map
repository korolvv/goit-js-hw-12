{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["function renderItem(array) {\n  const result = array\n    .map(item => {\n      return `<li class=\"userItem\">\n            <a class='link_photo' href=\"${item.largeImageURL}\"\n              ><img class=\"mini_photo\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" title=\"${item.tags}\"\n            /></a>\n            <ul class=\"counter\">\n              <li class=\"counter_wrapper\">\n                <h3 class=\"likes\">Likes</h3>\n                <p class=\"likes_amount\">${item.likes}</p>\n              </li>\n              <li class=\"counter_wrapper\">\n                <h3 class=\"views\">Views</h3>\n                <p class=\"views_amount\">${item.views}</p>\n              </li>\n              <li class=\"counter_wrapper\">\n                <h3 class=\"comments\">Comments</h3>\n                <p class=\"comments_amount\">${item.comments}</p>\n              </li>\n              <li class=\"counter_wrapper\">\n                <h3 class=\"downloads\">Downloads</h3>\n                <p class=\"downloads_amount\">${item.downloads}</p>\n              </li>\n            </ul>\n          </li>`;\n    })\n    .join('');\n  return result;\n}\n\nexport default renderItem;\n","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport renderItem from './render-functions';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst getQuery = async (request, page) => {\n  const params = {\n    key: '43243729-04275528cc78ca8d3cba6ce95',\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n    page,\n  };\n  const response = await axios.get('https://pixabay.com/api/?', { params });\n  return response.data;\n};\n\nfunction useApi(request, userList, loader, loadMore, page) {\n  getQuery(request, page)\n    .then(data => {\n      if (data.total === 0) {\n        loader.classList.add('hidden');\n        loadMore.classList.add('hidden');\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const pictures = data.hits;\n        const item = renderItem(pictures);\n        userList.insertAdjacentHTML('beforeend', item);\n        const lightbox = new SimpleLightbox('.userItem a');\n        loader.classList.add('hidden');\n        loadMore.classList.remove('hidden');\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      loadMore.classList.add('hidden');\n      throw new Error(data.status, error);\n    });\n}\n\nexport default useApi;\n","import useApi from './js/pixabay-api';\n\nconst form = document.querySelector('form');\nconst userList = document.querySelector('.userList');\nconst loader = document.querySelector('.loader');\nconst loadMore = document.querySelector('.load_more');\n\nlet request;\nlet page = 1;\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  loader.classList.remove('hidden');\n  userList.innerHTML = '';\n  request = form.elements.request.value;\n\n  useApi(request, userList, loader, loadMore, 1);\n});\n\nloadMore.addEventListener('click', () => {\n  page += 1;\n  useApi(request, userList, loader, loadMore, page);\n});\n"],"names":["renderItem","array","item","getQuery","request","page","params","axios","useApi","userList","loader","loadMore","data","iziToast","pictures","lightbox","SimpleLightbox","error","form","e"],"mappings":"owBAAA,SAASA,EAAWC,EAAO,CA4BzB,OA3BeA,EACZ,IAAIC,GACI;AAAA,0CAC6BA,EAAK,aAAa;AAAA,8CACdA,EAAK,YAAY,UAAUA,EAAK,IAAI,YAAYA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAK7DA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIPA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIZA,EAAK,SAAS;AAAA;AAAA;AAAA,gBAIvD,EACA,KAAK,EAAE,CAEZ,CCrBA,MAAMC,EAAW,MAAOC,EAASC,IAAS,CACxC,MAAMC,EAAS,CACb,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAAC,CACJ,EAEE,OADiB,MAAME,EAAM,IAAI,4BAA6B,CAAE,OAAAD,CAAM,CAAE,GACxD,IAClB,EAEA,SAASE,EAAOJ,EAASK,EAAUC,EAAQC,EAAUN,EAAM,CACzDF,EAASC,EAASC,CAAI,EACnB,KAAKO,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjBF,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAS,UAAU,IAAI,QAAQ,EAC/BE,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,MACI,CACL,MAAMC,EAAWF,EAAK,KAChBV,EAAOF,EAAWc,CAAQ,EAChCL,EAAS,mBAAmB,YAAaP,CAAI,EAC7C,MAAMa,EAAW,IAAIC,EAAe,aAAa,EACjDN,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAS,UAAU,OAAO,QAAQ,EAClCI,EAAS,QAAO,CACjB,CACP,CAAK,EACA,MAAME,GAAS,CACd,MAAAN,EAAS,UAAU,IAAI,QAAQ,EACzB,IAAI,MAAM,KAAK,OAAQM,CAAK,CACxC,CAAK,CACL,CC7CA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCT,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIP,EACAC,EAAO,EAEXa,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChBT,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAS,UAAY,GACrBL,EAAUc,EAAK,SAAS,QAAQ,MAEhCV,EAAOJ,EAASK,EAAUC,EAAQC,EAAU,CAAC,CAC/C,CAAC,EAEDA,EAAS,iBAAiB,QAAS,IAAM,CACvCN,GAAQ,EACRG,EAAOJ,EAASK,EAAUC,EAAQC,EAAUN,CAAI,CAClD,CAAC"}